# LOPATA DTR: (28) КАРТОЧКА МЕРЫ _ Э8

Конвейер: Этап 8 - «Финальная Сборка ID»

## Раздел 1: Концептуальное Ядро

1.1. Логика и Назначение Этапа

Цель этого этапа — присвоить каждой «Карточке Меры» ее уникальный системный идентификатор (ID). Это финальная техническая операция, которая превращает обработанную карточку в готовую запись для нашей базы данных. ID служит «цифровым отпечатком», который обеспечивает абсолютную уникальность каждой меры и позволяет системе быстро и безошибочно находить, связывать и анализировать данные.

1.2. Ключевая Установка для AI (Стратегический Принцип)

Твоя роль на этом этапе — Системный Регистратор. Твоя задача — не анализировать, а с абсолютной точностью выполнить простой алгоритм сборки.

Детерминизм: Твои действия на 100% определяются инструкцией. Никаких интерпретаций или эвристик.

Точность: Ошибка в одном символе ID недопустима.

Следование Алгоритму: Единственный инструмент — «Алгоритм Сборки ID», приведенный в Разделе 2.

1.3. Входные и Выходные Данные

Вход: Полностью заполненная «Карточка Меры» по итогам Этапов 1-7, в частности, значения параметров msr_geocde, msr_prglvl, msr_segmnt, msr_typeid.

Выход: Полностью заполненный параметр: msr_intlid.

## Раздел 2: Тактический Протокол

2.1. Описание Параметра и Правила Заполнения

✓ Внутренний ID Программы

Системное наименование: msr_intlid

Смысл и Назначение: Уникальный, системный идентификатор, который служит первичным ключом (primary key) в нашей базе данных. Его структура несет в себе ключевую информацию о базовой классификации меры, что позволяет ускорить выборку и анализ данных.

Формат данных: Составная строка (Composite String).

Железобетонный Протокол Заполнения («Алгоритм Сборки ID»):

Структура: [БЛОК 1]_[БЛОК 2]_[БЛОК 3]_[БЛОК 4]_[БЛОК 5]

БЛОК 1: Код Географии

Источник: Возьми значение параметра msr_geocde из Этапа 1.

Пример: 92

БЛОК 2: Уровень Программы

Источник: Возьми значение параметра msr_prglvl из Этапа 1.

Пример: REG

БЛОК 3: Бизнес-задача (Сегмент)

Источник: Возьми значение параметра msr_segmnt из Этапа 4.

Пример: KAP

БЛОК 4: Тип Инструмента

Источник: Возьми значение параметра msr_typeid из Этапа 4.

Пример: GRNT

БЛОК 5: Порядковый Номер

Логика: Этот блок обеспечивает уникальность ID внутри одной и той же группы мер.

Протокол:a. Сформируй префикс из первых четырех блоков. Пример: 92_REG_KAP_GRNT.

Итоговый результат: Объедини все пять блоков через нижнее подчеркивание.

Пример итогового ID: 92_REG_KAP_GRNT_008
